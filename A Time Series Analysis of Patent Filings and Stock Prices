# A Time Series Analysis of Patent Filings and Stock Prices: A Proxy for Modeling the Relationship between Innovation and Profitability

**Authors**:  
Teddy Ganea (Stanford University, Department of Mathematics)  
Ky Friedman (Stanford University, Doerr School of Sustainability)  
Simon Pritchard (Stanford University, Department of Biology)

---

## Abstract
This study presents a novel use for patent filing data in predicting stock price as a proxy for innovation within a leading Japanese semiconductor company. After extracting feature variables from patent filings, we fit linear models and SARIMAX models to the time series of stock prices, applying both a simple log transform and a more complex decorrelation from a semiconductor stock market index.

By testing over 14,000 configurations through an extensive hyperparameter grid search, we compared each SARIMAX model with a SARIMA model (without patent data). In every model fitting, appropriate cross-validation techniques were used to compute test MSE. Our results showed that decorrelation from the stock market greatly improved the performance of the models and that SARIMAX models using patent data outperformed SARIMA in 96% of cases.

Although none of the models reached the predictive accuracy necessary for market deployment, this study suggests a valuable opportunity to incorporate company patent filings into stock prediction models.

---

## Keywords
Time series, linear regression, ARIMA, SARIMA, SARIMAX, stock predictions, patents, innovation

---

## Introduction
From 2022 to 2024, the value of Nvidia stock (NVDA) increased tenfold, making significant profits for investors. Predicting stock prices is a cornerstone of financial analysis, and while macroeconomic trends were useful, we believe innovation—reflected by patent filings—played a significant role in Nvidia's growth. Nvidia's patent filings grew from 199 in 2016 to 1,861 in 2022, a growth paralleled by its stock price. This study aims to examine patent filings as a potential regressor in stock prediction models.

![Nvidia Patent Filing Trend](Nvidia-Patent-Filing-Trend.jpg)  
*Figure 1: The rise in Nvidia's stock value followed an increase in patent filings.*  
(Source: [Insights by GreyB](https://insights.greyb.com/nvidia-corporation-patents/))

Patent data has been previously used in stock prediction (Narin et al., 2001; Wu et al., 2017), but mostly with linear models, often lacking time series techniques. This study fills that gap by combining patent data with SARIMA and SARIMAX models to improve predictions.

---

## Methods

### Data Collection and Preprocessing
We collected daily stock data for Tokyo Electron (2000-2023) from Yahoo Finance, transforming it into monthly resolution and applying a log transform to account for heteroscedasticity. We also decorrelated the stock data from the broader semiconductor market using the PHLX Semiconductor Stock Index (SOX).

For patent data, we used VALUENEX's dataset, including both Japanese and English patent filings from 1986-2023. Four key features—Novelty, Volume, Breadth, and Depth—were extracted from patent filings and analyzed over monthly intervals.

### Feature Extraction and Time Lag
Patent features were aligned with stock data, and we introduced time lags (0-10 years) to account for the delayed financial impact of innovations.

---

## Model Building

### Model Types
We explored three model classes:
- **Linear Regression**: Used as a baseline with patent features.
- **SARIMA**: Time series model without patent data, acting as a control.
- **SARIMAX**: Time series model incorporating patent data as exogenous variables.

Each model was tested on both raw and decorrelated data, with various hyperparameters, and we used time series cross-validation to compute mean squared error (MSE).

---

## Results

### Impact of Model Class and Data Processing
Our results showed that SARIMAX consistently outperformed both SARIMA and linear models. Additionally, models using decorrelated data showed significant improvement in test MSE compared to those using raw data.

![Model Results](best_results_scatter_plot.png)  
*Figure 2: The best results for each model class and data set configuration.*

### Influence of Time Lag
We observed some trends in performance based on time lag, but these varied by model type. Linear models showed more pronounced trends with a 4-5 year lag, while SARIMAX models showed no clear pattern.

![Time Lag Impact](best_sarimax_linear_time_lag.png)  
*Figure 3: Impact of time lag on test MSE for the best models.*

### Impact of Patent Feature Type
No significant difference was found between models trained on abstract versus full-text patent data, suggesting that either can be used to predict stock performance.

---

## Discussion

### Relevance of Patent Data
Patent filings provide valuable insights into a company's innovation, which can impact stock performance. Our SARIMAX models, trained with patent data, consistently outperformed models without patent data, indicating the potential to include this information in financial models.

### Importance of Data Processing
Decorrelating stock price data from general market trends proved essential in improving model performance. Future work could explore more advanced de-trending techniques.

### SARIMAX Effectiveness
SARIMAX models, with the combination of patent data and time series analysis, showed superior predictive accuracy compared to linear and SARIMA models, especially when trained on decorrelated data.

---

## Conclusion
This study highlights the potential to incorporate patent filings into stock prediction models, particularly when using SARIMAX models with decorrelated data. Future work should focus on improving decorrelation techniques and further exploring time lags between innovation and stock performance.

---

## Acknowledgments
This work was supported by VALUENEX, who provided exclusive access to patent publication data. Special thanks to the STATS 207 teaching team for their valuable feedback.

---

## References
- Narin, F., Breitzman, A., & Thomas, P. (2005). Using patent citation indicators to manage a stock portfolio. In *Handbook of Quantitative Science and Technology Research*.
- Wu, S.-Q., Tsao, C.-C., Chang, P.-C., et al. (2017). A study of patent analysis for stock price prediction. *IEEE International Conference on Information Science*.
